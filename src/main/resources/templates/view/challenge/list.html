<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout/defaultLayout}" data-theme="corporate" xmlns="http://www.w3.org/1999/html">
<head>
    <title>전체 챌린지 리스트 페이지</title>
    <style>
        .progress-card{
            margin-right: 15px;
            margin-bottom: 20px;
            border-radius: 20px;
            overflow: hidden;
        }

        .card-container {
            margin-right: 15px;
            margin-bottom: 20px;
            border-radius: 20px;
            overflow: hidden;
        }

        .card-body {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 15px;
        }

        .card-actions {
            margin-top: 10px;
        }

        .btn-detail{
            background-color: #DADADA;
            border-radius: 20px;
            overflow: hidden;
            text-align: center;
            display: inline-block;
            padding: 7px;
        }

        .info-container {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .info-body {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .info-body span {
            margin-top: 5px;
            font-size: 14px;
            font-weight: bold;
        }

    </style>
</head>
<body>
<th:block layout:fragment="Content">
    <main class="flex w-full">
        <div class="flex flex-col justify-center w-1/2 mx-auto py-20 navbar bg-base-100">
            <div>
                <h1>나의 일상지원금, 현재 코인</h1>
                <div>

                </div>
            </div>
            <div class="divider"></div>

            <div>
                <h1>진행중인 챌린지 리스트</h1>
            </div>

            <div class="progress-card grid grid-cols-3" th:each="challenge : ${myValidChallengeList}">
                <a class="progress-challenge-card flex flex-row card-side shadow-xl" th:href="@{|/challenge/detail/${challenge.id}|}">
                    <figure>
                        <img class="card-img border rounded-lg" th:src="${ImageDateService.getOptimizingUrl(challenge.imgUrl, ListOption)}" alt="challengeImg">
                    </figure>
                    <div class="card-body">
                        <h2 class="card-title" th:text="${challenge.name}"></h2>
                        <div class="info-container">
                            <div class="info-body mr-6">
                                <i class="pl-2 pt-2 fa-solid fa-money-bill-wave fa-lg " style="color: #3faa31;"></i>
                                <span th:text="${challenge.joinCost}"></span>
                            </div>
                            <div class="info-body">
                                <i class="fa-solid fa-coins fa-lg pl-2 pt-2" style="color: #eac02a;"></i>
                                <span th:text="${challenge.joinCost}"></span>
                            </div>
                        </div>
                        <div class="flex justify-center inline-block">
                            <i class="mt-2 flex fa-solid fa-star fa-lg" style="color: #f9c406;"></i>
                            <p th:text="${challenge.getJoinDeadLineFormat()}"></p>
                        </div>
                    </div>
                </a>
            </div>

            <div class="divider"></div>


            <div>
                <h1>전체 챌린지 리스트</h1>
            </div><br>

            <div>
                <div class="badge">전체</div>
                <div class="badge badge-primary">환경</div>
                <div class="badge badge-secondary">습관</div>
                <div class="badge badge-accent">기타</div>
            </div><br>
            <div class="divider"></div>

            <div class="w-full">

                <div th:if="${#lists.isEmpty(openedChallenges)}">
                    <h1>진행중인 챌린지가 없습니다!!</h1>
                </div>

                <div class="flex w-full grid grid-cols-2" th:unless="${#lists.isEmpty(openedChallenges)}" th:if="${openedAndValid}">
                        <div class="card-container flex flex-row card-side shadow-xl" th:each="challenge : ${openedChallenges}" >
                                <figure>
                                    <img class="card-img border rounded-lg" th:src="${ImageDateService.getOptimizingUrl(challenge.imgUrl, ListOption)}" alt="challengeImg">
                                </figure>
                                <div class="card-body">
                                    <h2 class="card-title" th:text="${challenge.name}"></h2>
                                    <div class="info-container">
                                        <div class="info-body mr-6">
                                            <i class="pl-2 pt-2 fa-solid fa-money-bill-wave fa-lg " style="color: #3faa31;"></i>
                                            <span th:text="${challenge.joinCost}"></span>
                                        </div>
                                        <div class="info-body">
                                            <i class="fa-solid fa-coins fa-lg pl-2 pt-2" style="color: #eac02a;"></i>
                                            <span th:text="${challenge.joinCost}"></span>
                                        </div>
                                    </div>
                                    <div class="flex justify-center inline-block">
                                        <i class="mt-2 flex fa-solid fa-star fa-lg" style="color: #f9c406;"></i>
                                        <p th:text="${challenge.getJoinDeadLineFormat()}"></p>
                                    </div>
                                    <div class="card-actions">
                                        <a th:href="|/challenge/detail/${challenge.id}|" class="btn-detail btn-m">detail</a>
                                    </div>
                                </div>
                        </div>
                    </div>
            </div>
        </div>
    </main>
</th:block>
</body>
</html>